---
title: Singleton
date: 2021-07-07
description: Singleton 
tags:
  - DesignPattern
  - python

---
# Singleton Pattern

1. 정의
    - 인스턴스가 단 하나만 생성된느 것을 보장하고 어디서나 그 인스턴스에 접근가능하도록 하기 위한 패턴
2. Singleton 이란
    - 하나의 인스턴스만을 생성한다.
    - 어디에서나 접근 가능한 클래스 매서드(getInstance())를 가지고 있다.
    - getInstance() 메서드를 통해 모든 클라이언트에게 동일한 인스턴스를 제공한다.
3. 사용 용도
    - 프로그램 상에 단 하나만 존재해야 하는 객체가 있다.4
4. 사용 효과
    - 운용하는 객체를 하나만 두어 관리의 집중화를 통해 유지 보수 비용을 줄이고 높은 신뢰성을 부여할 수 있다.
5. 사용하는 예
    - 파일 선택 대화 사장자
    - 사용자 설정이라든가 레지스트리 설정을 처리하는 객체
    - 프로그램 히스토리 관리자
6. UML

    ![Singleton%20Pattern%20b418038d13aa462ebc139c1d1a2ac6fa/Untitled.png](Singleton%20Pattern%20b418038d13aa462ebc139c1d1a2ac6fa/Untitled.png)

7. Singleton Code

    ```python
    class OperationSingleton:
        
        __instance = None
        ADD_OPERATION = 1 
        SUBSTRACT_OPERATION = 2
        MULTIPLY_OPERATION = 3 
        DIVIDE_OPERATION = 4
        
        @classmethod
        def get_instance(cls, *args, **kargs):
            if not cls.__instance:
                cls.__instance = cls(*args, **kargs)
            return cls.__instance
        
        def operate(self, operator_type, first_number, second_number):
            answer = 0
            operator = None
            
            if operator_type == OperationSingleton.ADD_OPERATION:
                answer = first_number + second_number
                operator = '+'
            elif operator_type == OperationSingleton.SUBSTRACT_OPERATION:
                answer = first_number - second_number
                operator = '-'
            elif operator_type == OperationSingleton.MULTIPLY_OPERATION:
                answer = first_number * second_number
                operator = '*'
            elif operator_type == OperationSingleton.DIVIDE_OPERATION:
                answer = first_number / second_number
                operator = '/'
            
            result = str(first_number) + operator + str(second_number) + '=' + str(answer)
            
            self.print_result(result)
            
        
        def print_result(self, result):
            print(result)

    class Client:
        def main(self):
            calculator_singleton = OperationSingleton.get_instance()
            
            first_number = 100
            second_number = 20
            
            calculator_singleton.operate(OperationSingleton.ADD_OPERATION, first_number, second_number)
            calculator_singleton.operate(OperationSingleton.SUBSTRACT_OPERATION, first_number, second_number)
            calculator_singleton.operate(OperationSingleton.MULTIPLY_OPERATION, first_number, second_number)
            calculator_singleton.operate(OperationSingleton.DIVIDE_OPERATION, first_number, second_number)

    client = Client()
    client.main()
    ```
